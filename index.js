import{a as W,i as g,S as ce,N as be,P as Le,A as we,R as Ee}from"./assets/vendor-BOtr-AIu.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header-burger"),t=document.querySelector(".header-close"),n=document.querySelector(".header-mob-menu"),o=document.querySelectorAll(".header-link"),s=a=>{a.key==="Escape"&&i()},i=()=>{n.classList.contains("mob-menu-open")&&(n.classList.remove("mob-menu-open"),e.classList.remove("is-hidden"),t.classList.remove("is-active"),document.body.style.overflow="",document.removeEventListener("keydown",s))};e.addEventListener("click",()=>{n.classList.add("mob-menu-open"),e.classList.add("is-hidden"),t.classList.add("is-active"),document.body.style.overflow="hidden",document.addEventListener("keydown",s)}),t.addEventListener("click",i),n.addEventListener("click",a=>{a.target.closest(".header-mob-menu-container")||i()}),o.forEach(a=>{a.addEventListener("click",p=>{const v=a.getAttribute("href");if(!v||!v.startsWith("#"))return;const S=document.querySelector(v);S&&(p.preventDefault(),window.innerWidth<1440?(i(),setTimeout(()=>{S.scrollIntoView({behavior:"smooth",block:"start"})},300)):S.scrollIntoView({behavior:"smooth",block:"start"}))})}),document.querySelectorAll(".header-btn[data-scroll]").forEach(a=>{a.addEventListener("click",()=>{const p=a.dataset.scroll,v=document.querySelector(p);v&&(v.scrollIntoView({behavior:"smooth",block:"start"}),i())})}),window.addEventListener("resize",()=>{window.innerWidth>=1440&&i()})});document.getElementById("scrollToStories").addEventListener("click",function(e){e.preventDefault(),document.querySelector("#success-stories").scrollIntoView({behavior:"smooth"})});async function le(e,t=1){const n=window.innerWidth<1440?8:9,s={page:Math.max(1,Number(t)||1),limit:n};return e&&(s.categoryId=e),(await W.get("https://paw-hut.b.goit.study/api/animals/",{params:s})).data}async function Ie(){return(await W.get("https://paw-hut.b.goit.study/api/categories/",{})).data}const ne=new URL("/paw-hut/assets/icons-64NDqf5V.svg",import.meta.url).href,Se=document.querySelector(".pets-category-list"),ue=document.querySelector(".pets-list"),de=document.querySelector(".loader"),u=document.querySelector(".pets-list-navigation"),A=document.querySelector(".more-pets-button"),f=()=>me.matches,me=window.matchMedia("(min-width: 768px)"),oe=["Всі","Собаки","Коти","Кролики","Гризуни","Птахи","Тварини з особливими потребами","Терміново шукають дім"];function qe(e){const n=e.slice().sort((o,s)=>oe.indexOf(o.name)-oe.indexOf(s.name)).map(o=>`
            <li class="category-list-item">
                <button class="pet-category-button animated-button dark"
                    type="button"
                    data-category-id="${o._id}">
                    ${o.name}
                </button>
            </li>
        `).join("");Se.insertAdjacentHTML("beforeend",n)}function pe(e){const t=e.map(n=>`<li class="pet-list-item">
            <div class="pet-item-link">
                <img class="pet-image" src="${n.image}" alt="${n.shortDescription}"/>
            </div>
            <div class="info-container">
                <p class="pet-info species">${n.species}</p>
                <p class="pet-info name">${n.name}</p>
                <div class="pet-info category">${n.categories.map(o=>`<span class="category">${o.name}</span>`).join(" ")}
                </div>
                <p class="pet-info age-gender"><span class="age">${n.age}</span class="gender"><span>${n.gender}</span></p>
                <p class="pet-info behavior">${n.behavior} ${n.shortDescription}</p>
                <button type="button" class="button-container animated-button ligth" data-id="${n._id}" arial-lebel="Дізнатись більше">Дізнатись більше</p></button>
            </div>
        </li>`).join("");ue.insertAdjacentHTML("beforeend",t)}function O(){ue.innerHTML=""}function T(){de.style.display="block"}function fe(){de.style.display="none"}function w(){A.style.display="none"}function ke(){A.style.display="block"}function Ce(){requestAnimationFrame(()=>{const e=document.querySelector(".pet-list-item");if(!e)return;const t=e.getBoundingClientRect().height;window.scrollBy({top:t*1,behavior:"smooth"})})}function H(){if(!u)return;if(!f()){u.hidden=!0;return}const e=xe(l,y);u.innerHTML=`
    <button class="pets-nav-btn back animated-nav-button ${l===1?"is-deactive-nav":""}"
      type="button" aria-label="Попередня сторінка" ${l===1?"disabled":""}>
      <svg aria-hidden="true" width="24" height="24">
        <use href="${ne}#icon-arrow_back"></use>
      </svg>
    </button>

    ${e.map(t=>{if(t==="dots")return'<span class="pets-nav-dots" aria-hidden="true">…</span>';const n=t===l;return`
          <button class="pets-nav-button ${n?"is-active":""} animated-nav-button"
            type="button"
            aria-label="Сторінка ${t}"
            ${n?'aria-current="page"':""}>
            ${t}
          </button>`}).join("")}

    <button class="pets-nav-btn forward animated-nav-button ${l===y?"is-deactive-nav":""}"
      type="button" aria-label="Наступна сторінка" ${l===y?"disabled":""}>
      <svg aria-hidden="true" width="24" height="24">
        <use href="${ne}#icon-arrow_forward"></use>
      </svg>
    </button>
  `}function xe(e,t){if(t<=5)return Array.from({length:t},(i,d)=>d+1);let n,o;e<=3?(n=2,o=4):e>=t-2?(n=t-3,o=t-1):(n=e-1,o=e+1);const s=[];s.push(1),n>2&&s.push("dots");for(let i=n;i<=o;i++)s.push(i);return o<t-1&&s.push("dots"),s.push(t),s}let l=1,y=1,m="",h=[];const Me=window.matchMedia("(min-width: 1440px)"),_=document.querySelector(".pets-list"),R=document.querySelector(".pets-category-list"),se=document.querySelector(".pet-category-button.all");se&&se.classList.add("is-deactive");$e();Me.addEventListener("change",()=>{Pe()});R==null||R.addEventListener("click",e=>{const t=e.target.closest(".pet-category-button");if(!t)return;const n=R.querySelector(".pet-category-button.is-deactive");n&&n.classList.remove("is-deactive"),t.classList.add("is-deactive"),m=t.dataset.categoryId||"",l=1,f()||(h=[]),O(),w(),T(),f()?E({categoryId:m,page:1}):N(m,1)});A==null||A.addEventListener("click",e=>{e.preventDefault(),!f()&&(w(),T(),l+=1,N(m,l))});_==null||_.addEventListener("click",e=>{const t=e.target.closest(".pets-list-section .button-container");if(!t)return;e.preventDefault();const n=t.dataset.id;window.dispatchEvent(new CustomEvent("open-animal-modal",{detail:{petId:n}}))});u==null||u.addEventListener("click",async e=>{if(!f())return;const t=e.target.closest("button");if(t){if(t.classList.contains("back")){l>1&&(await E({categoryId:m,page:l-1}),K());return}if(t.classList.contains("forward")){l<y&&(await E({categoryId:m,page:l+1}),K());return}if(t.classList.contains("pets-nav-button")){const n=Number(t.textContent.trim());if(!Number.isFinite(n))return;await E({categoryId:m,page:n}),K()}}});me.addEventListener("change",()=>{ge(),f()?E({categoryId:m,page:l}):(l=1,h=[],O(),T(),N(m,l))});function $e(){ge(),T(),f()?(ie(),E({categoryId:m,page:1})):(h=[],ie(),N(m,1))}async function ie(){try{const e=await Ie();if(!Array.isArray(e)||e.length===0){g.info({message:"Категорії не знайдено.",position:"topRight"});return}qe(e)}catch(e){g.error({message:(e==null?void 0:e.message)||"Сталася помилка під час завантаження категорій.",position:"topRight"})}}async function N(e,t){try{j(!0),w();const n=await le(e,t),o=(n==null?void 0:n.animals)||[],s=(n==null?void 0:n.limit)||1,i=(n==null?void 0:n.totalItems)||0;if(y=Math.max(1,Math.ceil(i/s)),l=Math.min(t,y),m=e,o.length===0){g.info({message:"Тварин не знайдено за обраним фільтром.",position:"topRight"}),O(),w(),u&&(u.hidden=!0);return}f()?(h=o,X(o)):(h=Be(h,o),X(h)),pe(o),t>1&&Ce(),f()?(w(),H()):(u&&(u.hidden=!0),l>=y?(w(),g.info({message:"Ви переглянули всі доступні результати."})):ke())}catch(n){g.error({message:(n==null?void 0:n.message)||"Сталася помилка під час завантаження тварин.",position:"topRight"})}finally{fe(),j(!1)}}async function E({categoryId:e="",page:t=1}={}){try{j(!0);const n=Math.max(1,Number(t)||1),o=await le(e,n),s=(o==null?void 0:o.animals)||[],i=(o==null?void 0:o.limit)||1,d=(o==null?void 0:o.totalItems)||0;if(m=e,y=Math.max(1,Math.ceil(d/i)),l=Math.min(n,y),O(),s.length===0){g.info({message:"Тварин не знайдено за обраним фільтром.",position:"topRight"}),H();return}h=s,X(s),pe(s),H()}catch(n){g.error({message:(n==null?void 0:n.message)||"Сталася помилка під час завантаження тварин.",position:"topRight"})}finally{fe(),j(!1)}}function Pe(){l=1,y=1,f()||(h=[]),O(),T(),f()?E({categoryId:m,page:1}):N(m,1)}function K(){const e=document.querySelector(".pets-list-section")||document.querySelector(".pets-list")||_;if(!e)return;const n=e.getBoundingClientRect().top+window.pageYOffset+-50;window.scrollTo({top:n,behavior:"smooth"})}function j(e){if(u){if(!f()){u.hidden=!0;return}u.hidden=!!e}}function Be(e,t){const n=new Map;return(e||[]).forEach(o=>o&&o._id&&n.set(o._id,o)),(t||[]).forEach(o=>o&&o._id&&n.set(o._id,o)),Array.from(n.values())}function ge(){u&&(f()?(w(),u.hidden=!1,H()):u.hidden=!0)}function X(e){h=Array.isArray(e)?e:[]}function Ae(e){return h.find(t=>t._id===e)}let D=null;function B(e){var d,a;let t=null,n=null;const o=(d=e==null?void 0:e.navigation)==null?void 0:d.prevEl,s=(a=e==null?void 0:e.navigation)==null?void 0:a.nextEl;o&&(t=Array.isArray(o)?o[0]:o),s&&(n=Array.isArray(s)?s[0]:s);const i=(e==null?void 0:e.el)||(e==null?void 0:e.$el)||null;if(i&&i.querySelector&&(t=t||i.querySelector(".about-us-swiper-button-prev"),n=n||i.querySelector(".about-us-swiper-button-next")),t){const p=!!(e!=null&&e.isBeginning);t.disabled=p,t.classList.toggle("swiper-button-disabled",p),t.setAttribute("aria-disabled",p?"true":"false")}if(n){const p=!!(e!=null&&e.isEnd);n.disabled=p,n.classList.toggle("swiper-button-disabled",p),n.setAttribute("aria-disabled",p?"true":"false")}}function Oe(){const e=document.querySelector(".about-us-section .about-us-swiper");if(!e)return null;if(e.swiper)try{e.swiper.destroy(!0,!0)}catch{}const t=e.querySelector(".about-us-swiper-controls"),n=(t==null?void 0:t.querySelector(".about-us-swiper-button-next"))||null,o=(t==null?void 0:t.querySelector(".about-us-swiper-button-prev"))||null,s=(t==null?void 0:t.querySelector(".about-us-swiper-pagination"))||null,i=new ce(e,{modules:[be,Le],loop:!1,wrapperClass:"about-us-swiper-wrapper",slideClass:"about-us-swiper-slide",pagination:{el:s,clickable:!0},slidesPerView:1,spaceBetween:20,on:{init(a){B(a)},slideChange(){B(i)}}}),d=(a,p,v)=>{if(!a)return;const S=a[p];if(S)try{a.removeEventListener("click",S)}catch{}a[p]=v,a.addEventListener("click",v)};return d(n,"_aboutUsNext",a=>{a.preventDefault(),i.slideNext(),B(i)}),d(o,"_aboutUsPrev",a=>{a.preventDefault(),i.slidePrev(),B(i)}),B(i),i}function re(){if(D){try{D.destroy(!0,!0)}catch{}D=null}D=Oe()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",re):re();new we("#faq-accordion",{duration:300,showMultiple:!1,openOnInit:[]});const Te=W.create({baseURL:"https://paw-hut.b.goit.study/api/",params:{page:4,limit:10}});async function Ne(){try{const{data:e}=await Te.get("/feedbacks");return e.feedbacks}catch{return null}}function Re(e){const t=document.querySelector(".success-stories-section .swiper-wrapper"),n=e.map(({description:o,rate:s,author:i})=>`
        <div class="swiper-slide">
          <div class="star-rating" data-score="${s}"></div>     
            <p class="storie-text">${o}</p>
            <p class="storie-names">${i}</p>  
        </div>`).join("");t.insertAdjacentHTML("beforeend",n),document.querySelectorAll(".star-rating").forEach(o=>{new Ee(o,{starType:"svg",readOnly:!0}).init()})}const De=document.querySelector(".stories-loader"),Ve=document.querySelector(".success-stories-section .swiper-controls");function Y(e){g.info({message:e,position:"topRight",color:"#f2aaaaff",icon:!1,progressBar:!1,messageColor:"black"})}function V(){De.classList.remove("loader")}function _e(){Ve.classList.remove("visually-hidden")}window.addEventListener("DOMContentLoaded",async()=>{try{let e=await Ne();if(e===null){Y("Не вдалося завантажити історії. Спробуйте пізніше"),V();const n=document.querySelector(".success-stories-section .swiper-wrapper");n&&(n.innerHTML='<p class="error-swiper">Не вдалося завантажити історії</p>');return}if(e.length===0){Y("Нажаль, історії зараз недоступні"),V();const n=document.querySelector(".success-stories-section .swiper-wrapper");n&&(n.innerHTML='<p class="error-swiper">Нажаль, історії зараз недоступні</p>');return}Re(e);const t=new ce(".success-stories-section .swiper",{direction:"horizontal",loop:!1,speed:400,spaceBetween:32,pagination:{el:".success-stories-section .swiper-pagination",clickable:!0,dynamicBullets:!0},navigation:{nextEl:".success-stories-section .swiper-button-next",prevEl:".success-stories-section .swiper-button-prev"},breakpoints:{768:{slidesPerView:2}}});_e(),V()}catch{Y("Cталась помилка. Спробуйте пізніше");const t=document.querySelector(".success-stories-section .swiper-wrapper");t&&(t.innerHTML='<p class="error-swiper">Нажаль, історії зараз недоступні</p>'),V()}});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".footer-nav-link").forEach(t=>{t.addEventListener("click",function(n){n.preventDefault();const o=this.getAttribute("href");if(o&&o.startsWith("#")){const s=document.querySelector(o);s&&s.scrollIntoView({behavior:"smooth",block:"start"})}})})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".footer-nav-link");e.length&&e.forEach(t=>{t.addEventListener("click",n=>{if(t.classList.contains("is-disabled"))return;e.forEach(i=>i.classList.remove("is-active")),t.classList.add("is-active");const o=t.getAttribute("href"),s=document.querySelector(o);s&&s.scrollIntoView({behavior:"smooth"}),history.pushState(null,"",o)})})});const c=document.querySelector(".animal-details-modal"),Z=c==null?void 0:c.querySelector(".icon"),G=c==null?void 0:c.querySelector(".button"),ae=c==null?void 0:c.querySelector(".pet-image");let L=null;const q=document.getElementById("pet-name"),k=document.getElementById("pet-type"),C=document.getElementById("age"),x=document.getElementById("gender"),M=document.getElementById("desc"),$=document.getElementById("health"),P=document.getElementById("behaviour");function he(){return L||(ae?(L=document.createElement("img"),L.classList.add("placeholder-image"),L.alt="",ae.appendChild(L),L):null)}let ee=null;function ye(e){e.key==="Escape"&&!(c!=null&&c.classList.contains("visually-hidden"))&&F()}function J(){c==null||c.classList.remove("visually-hidden"),document.body.classList.add("lock-scroll"),document.documentElement.classList.add("lock-scroll"),document.addEventListener("keydown",ye)}function F(){c==null||c.classList.add("visually-hidden"),document.body.classList.remove("lock-scroll"),document.documentElement.classList.remove("lock-scroll"),document.removeEventListener("keydown",ye);const e=he();e&&(e.src="",e.alt=""),q&&(q.textContent=""),k&&(k.textContent=""),C&&(C.textContent=""),x&&(x.textContent=""),M&&(M.textContent=""),$&&($.textContent=""),P&&(P.textContent=""),ee=null}function He(e){const t=Ae(e);if(ee=e,!t){J();return}const n=he(),o=new Image;o.onload=()=>{n&&(n.src=t.image||"",n.alt=t.name||""),q&&(q.textContent=t.name||""),k&&(k.textContent=t.species||""),C&&(C.textContent=t.age||""),x&&(x.textContent=t.gender||""),M&&(M.textContent=t.description||""),$&&($.textContent=t.healthStatus||""),P&&(P.textContent=t.behavior||""),J()},o.onerror=()=>{console.error("Failed to load image:",t.image),n&&(n.src=t.image||"",n.alt=t.name||""),q&&(q.textContent=t.name||""),k&&(k.textContent=t.species||""),C&&(C.textContent=t.age||""),x&&(x.textContent=t.gender||""),M&&(M.textContent=t.description||""),$&&($.textContent=t.healthStatus||""),P&&(P.textContent=t.behavior||""),J()},o.src=t.image||""}G==null||G.addEventListener("click",()=>{const e=ee;F(),window.dispatchEvent(new CustomEvent("open-order-modal",{detail:{petId:e}}))});Z==null||Z.addEventListener("click",F);c==null||c.addEventListener("click",e=>{e.target===c&&F()});window.addEventListener("open-animal-modal",e=>{He(e.detail.petId)});const je=W.create({baseURL:"https://paw-hut.b.goit.study/api"}),r={overlay:document.querySelector(".order-modal-overlay"),modal:document.querySelector(".order-modal"),closeBtn:document.querySelector(".order-btn-close"),form:document.querySelector(".order-form"),nameInput:document.querySelector("#user-name"),phoneInput:document.querySelector("#user-tel"),commentInput:document.querySelector("#user-comment"),submitBtn:document.querySelector(".btn-send")};let U=null;window.addEventListener("open-order-modal",e=>{var n;const t=(n=e==null?void 0:e.detail)==null?void 0:n.petId;if(!t){g.error({title:"Помилка",message:"Не вдалося визначити тварину для заявки",position:"topRight"});return}U=t,We()});function We(){r.overlay.classList.add("is-open"),document.documentElement.classList.add("modal-open"),document.body.classList.add("modal-open"),r.submitBtn.disabled=!0,Q(),document.addEventListener("keydown",ve)}function z(){r.overlay.classList.remove("is-open"),document.documentElement.classList.remove("modal-open"),document.body.classList.remove("modal-open"),r.form.reset(),r.submitBtn.disabled=!0,b(r.nameInput),b(r.phoneInput),b(r.commentInput),U=null,document.removeEventListener("keydown",ve)}r.closeBtn.addEventListener("click",z);r.overlay.addEventListener("click",e=>{e.target===r.overlay&&z()});function ve(e){e.key==="Escape"&&r.overlay.classList.contains("is-open")&&z()}r.form.addEventListener("submit",async e=>{e.preventDefault();const t=r.nameInput.value.trim(),n=r.phoneInput.value,o=r.commentInput.value.trim(),s=te(n);if(!Fe(t,s,o))return;const i={name:t,phone:s,comment:o||void 0,animalId:U};try{await je.post("/orders",i),g.success({title:"Успішно",message:"Заявку відправлено",position:"topRight"}),z()}catch{g.error({title:"Помилка",message:"Не вдалося відправити заявку",position:"topRight"})}});function Fe(e,t,n){let o=!0;return b(r.nameInput),b(r.phoneInput),b(r.commentInput),(!e||e.length<3||e.length>32)&&(I(r.nameInput,"Імʼя має бути від 3 до 32 символів"),o=!1),(!t||!/^[0-9]{12}$/.test(t))&&(I(r.phoneInput,"Введіть коректний номер телефону"),o=!1),n&&n.length>500&&(I(r.commentInput,"Коментар не може перевищувати 500 символів"),o=!1),U||(g.error({message:"Не обрано тварину",position:"topRight"}),o=!1),o}function I(e,t){var o;e.classList.add("is-error");const n=(o=e.closest(".order-container-area, .order-container-label"))==null?void 0:o.querySelector(".order-error-text");n&&(n.textContent=t,n.classList.add("is-visible"))}function b(e){var n;e.classList.remove("is-error");const t=(n=e.closest(".order-container-area, .order-container-label"))==null?void 0:n.querySelector(".order-error-text");t&&(t.classList.remove("is-visible"),t.textContent="")}r.nameInput.addEventListener("input",()=>{let e=r.nameInput.value.trim();e=e.replace(/[^a-zA-Zа-яА-ЯіІїЇєЄґҐ\s-]/g,""),r.nameInput.value=e,b(r.nameInput),e.length>0&&e.length<3?I(r.nameInput,"Мінімум 3 символи"):e.length>32&&I(r.nameInput,"Максимум 32 символи"),Q()});r.phoneInput.addEventListener("input",()=>{let e=r.phoneInput.value;e=e.replace(/[^0-9+]/g,""),e.includes("+")&&(e="+"+e.replace(/\+/g,"").replace(/^/,"")),r.phoneInput.value=e;const t=te(e);b(r.phoneInput),t&&!/^[0-9]{12}$/.test(t)&&I(r.phoneInput,"Введіть коректний номер телефону"),Q()});r.commentInput.addEventListener("input",()=>{const e=r.commentInput.value.trim();b(r.commentInput),e.length>500&&I(r.commentInput,"Максимум 500 символів"),Q()});function te(e){let t=e.replace(/\D/g,"");return t.length===10&&t.startsWith("0")&&(t="38"+t),t.length===12&&t.startsWith("380"),t}function Q(){const e=r.nameInput.value.trim(),t=te(r.phoneInput.value),n=r.commentInput.value.trim(),o=e.length>=3&&e.length<=32,s=/^[0-9]{12}$/.test(t),i=n.length<=500;r.submitBtn.disabled=!(o&&s&&i)}
//# sourceMappingURL=index.js.map
